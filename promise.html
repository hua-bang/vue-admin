<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise</title>
</head>
<body>
    <script>

        // resolve, reject, all, ract
        // resolve == then  ,  reject == catch


        // let promise = new Promise((resolve, reject) => {
        //     reject()
        // })

        // promise.then(response => {
        //     console.log('成功')
        // }).catch(error => {
        //     console.log('失败')
        // })

        //链式
        function promise_demo(status){
            return new Promise((resolve, reject) => {
                status?resolve(status):reject(status)
            })
        }

        function promise_after(status) {
            return new Promise((resolve, reject) => {
                status?resolve(status):reject(status)
            })
        }

        // promise_demo(true).then(res => {
        //     console.log(res)
        //     return promise_after(false)
        // }).then(res => {
        //     console.log(res)
        // }).catch(err => {
        //     console.log(err)
        // })

        // all方法,有一个错全错
        Promise.all([promise_demo(true), promise_after(true)]).then(res => {
            console.log(res)
        }).catch(err => {
            console.log(err)
        })

        //race 只要一个resolve，就成功,但是如果第一个返回reject，那么就失败
        Promise.race([promise_demo(true), promise_after(true)]).then(res => {
            console.log(res)
        }).catch(err => {
            console.log(err)
        })
    </script>
</body>
</html>